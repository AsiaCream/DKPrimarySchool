@{
    Layout = "~/Views/Shared/_Layout1.cshtml";
}
@model IEnumerable<Message>
<head>
    <script type="text/javascript" src="~/scripts/jquery-1.10.2.min.js"></script>
    <link rel="stylesheet" type="text/css" href="~/styles/new.css" />
</head>
<div class="newsbanner">
    <div class="container" style="height:200px;">
        <hgroup>
            <h1>留言板块页面</h1>
            <h4>欢迎大家留言</h4>
        </hgroup>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-8" style="background-color:rgb(81,144,255);border-radius:8px;">
            <div class="container-fluid">
                <div class="row message-content">
                    @foreach (var x in Model)
                    {
                        @if (x.State == State.通过)
                        {
                            <div class="col-md-2">
                                <img src="~/images/person.png" class="img-responsive" alt=""/>
                                <p>访客昵称：@x.NickName</p>
                            </div>
                            <div class="col-md-10">
                                <p style="margin:10px 0 0 0;">@x.Content</p>
                            </div>
                        }
                    }                  
                </div>
            </div>
        </div>
    </div>
    @Html.MakePager("pager-item", "active", "pager")
</div>
<div class="container">
    <form asp-action="CreateMessage" asp-controller="Home" method="post">
        <table class="table" style="background-color:#888;border-radius:8px;">
            <tr>
                <th style="color:#333;">昵称：</th>
                <td><input type="text" name="NickName" id="NickName" placeholder="昵称不能为空" style="border-radius:8px;" /></td>
            </tr>
            <tr>
                <th style="color:#333;">留言：</th>
                <td><textarea id="ContentId" placeholder="请输入内容,提交后待管理员审核后即可在页面中显示" name="Content" style="width:100%;height:80px;resize:none;border-radius:8px;"></textarea></td>
            </tr>
        </table>
        <p><input type="submit" class="btn" id="btnCreateMessage" value="留言" /></p>
    </form>
</div>

@*<script type="text/javascript">
    var oName = document.getElementById("NickName");
    var oContent = document.getElementById("ContentId");
    var oBtn = document.getElementById("btnCreateMessage");

    oBtn.onclick = function () {
        if (oName.value == null || oContent.value == null) {
            alert("内容或昵称为空，请填写。");

        }

    };
</script>*@


